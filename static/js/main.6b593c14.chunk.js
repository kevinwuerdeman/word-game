(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{181:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t.n(n),s=t(82),l=t.n(s),o=t(62),i=(t(92),t(42)),c=t(43),m=t(45),d=t(44),h=t(46),p=(t(47),function(e){var a=e.time,t=e.words,n=e.scoreBoard,s=e.letters,l=e.input,o=e.name,i=e.handleChange,c=e.handleSave,m=e.gameID,d=e.startGame,h=e.admin,p=e.leader,u=a<60&&a>0&&l.length>0;return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"left-side"},r.a.createElement("div",{className:"words"},r.a.createElement("h1",{className:"word-title"},"Played Words:"),r.a.createElement("div",{className:"inner-container"},t&&Object.keys(t).map(function(e){return r.a.createElement("li",{className:"played-words",key:e},t[e].playerName+' played:  "'+t[e].wordContent+'"')}))),r.a.createElement("div",{className:"letter-input"},r.a.createElement("h2",null," Letters: ",s),r.a.createElement("h1",{id:"output"},"Input: "),r.a.createElement("input",{type:"textfield",name:"input",id:"latestStatus",value:l,onChange:i}),r.a.createElement("button",{className:"button",onClick:c,disabled:!u},"Save"))),r.a.createElement("div",{className:"right-side"},r.a.createElement("h2",null,a),h&&r.a.createElement("button",{className:"button",onClick:d},"Start!"),r.a.createElement("h1",null," Welcome To The Game: ",o),0===a&&r.a.createElement("h2",null," ",p.name," wins!!!"),r.a.createElement("div",{className:"word-score"},r.a.createElement("div",{className:"scoreBoard"},r.a.createElement("h2",null,"Scoreboard:"),r.a.createElement("div",{className:""},n&&Object.keys(n).map(function(e){return r.a.createElement("li",{key:e},e," - points: ",n[e])}))))))),r.a.createElement("h5",null,"Invite players with this link: https://kevinwuerdeman.github.io/word-game/#/game/",m))}),u=t(14),f=t.n(u),v=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(m.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(r)))).state={name:"",input:"",gameID:"",words:{},letters:[],players:0,time:60,gameStart:!1,scoreBoard:{},leader:{name:"player 1",score:0}},t.gameRef=f.a.database().ref().child("games").child(t.props.match.params.id),t.wordRef=f.a.database().ref().child("words").child(t.props.match.params.id),t.playerRef=f.a.database().ref().child("players").child(t.props.match.params.id),t.checkEntry=function(e){for(var a=[].concat(t.state.letters),n=0;n<e.length;n++){if(-1===a.indexOf(e[n]))return!1;a.splice(a.indexOf(e[n]),1)}return!0},t.handlePlayer=function(e){if(t.state.gameID&&!t.state.name){var a=Object.keys(e.val()).length;t.setState({players:a,name:"player ".concat(a)})}},t.handleGame=function(e){t.state.gameID&&t.setState({gameStart:e.val().gameStart,letters:e.val().letters},function(){if(t.state.gameStart&&t.state.time>-1){Date.now();var e=setInterval(function(){t.state.time<1?clearInterval(e):t.setState({time:t.state.time-=1})},1e3)}})},t.handleNewWords=function(e){t.setState({words:e.val()});var a={};e.val()&&Object.keys(e.val()).forEach(function(n){var r=e.val()[n];a[r.playerName]?a[r.playerName]++:a[r.playerName]=1,a[r.playerName]>t.state.leader.score&&t.setState({scoreBoard:a,leader:{name:r.playerName,score:a[r.playerName]}})}),t.setState({scoreBoard:a})},t.handleChange=function(e){var a=e.target.value;t.setState({input:a})},t.handleSave=function(){!t.state.words&&t.checkEntry(t.state.input)?t.wordRef.push({wordContent:t.state.input,playerName:t.state.name,points:1}):t.wordRef.orderByChild("wordContent").equalTo(t.state.input).on("value",function(e){!e.val()&&t.checkEntry(t.state.input)&&t.wordRef.push({wordContent:t.state.input,playerName:t.state.name,points:1})}),t.setState({input:""})},t}return Object(h.a)(a,e),Object(c.a)(a,[{key:"componentDidMount",value:function(){this.wordRef.on("value",this.handleNewWords),this.setState({gameID:this.props.match.params.id}),this.playerRef.on("value",this.handlePlayer),this.gameRef.on("value",this.handleGame)}},{key:"componentDidUpdate",value:function(e,a){!a.gameID&&this.state.gameID&&this.playerRef.push().set({name:"player ".concat(this.state.players+=1)})}},{key:"render",value:function(){var e=this.state,a=e.words,t=e.time,n=e.input,s=e.letters,l=e.scoreBoard,o=e.name,i=e.leader;return r.a.createElement("div",{className:"App"},r.a.createElement(p,{words:a,time:t,input:n,letters:s,scoreBoard:l,name:o,handleChange:this.handleChange,handleSave:this.handleSave,admin:!1,leader:i}))}}]),a}(r.a.Component),g=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(m.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(r)))).state={name:"",input:"",gameID:"",words:{},letters:[],players:0,time:60,gameStart:!1,scoreBoard:{},leader:{name:"player 1",score:0}},t.gameRef=f.a.database().ref().child("games"),t.wordRef=f.a.database().ref().child("words"),t.playerRef=f.a.database().ref().child("players"),t.generateRandomLetter=function(){for(var e=["a","e","i","o","u"],a=["b","c","d","f","g","h","j","k","l","m","n","p","q","r","s","t","v","w","x","y","z"],n=function(e){return Math.floor(Math.random()*e.length)},r=[],s=0;s<2;s++){var l=e[n(e)];r=r.concat([l]),e.splice(e.indexOf(l),1)}for(var o=0;o<2;o++){var i=a[n(a)];r=r.concat([i]),a.splice(a.indexOf(i),1)}for(var c=e.concat(a),m=0;m<5;m++){var d=c[n(c)];r=r.concat([d]),c.splice(c.indexOf(d),1)}return t.gameRef.child(t.state.gameID).update({letters:r}),t.setState({letters:r}),r},t.checkEntry=function(e){for(var a=[].concat(t.state.letters),n=0;n<e.length;n++){if(-1===a.indexOf(e[n]))return!1;a.splice(a.indexOf(e[n]),1)}return!0},t.handlePlayer=function(e){if(t.state.gameID&&!t.state.name){var a=Object.keys(e.val()[t.state.gameID]).length;t.setState({players:a,name:"player ".concat(a)})}},t.handleGame=function(e){t.state.gameID&&t.setState({gameStart:e.val()[t.state.gameID].gameStart,letters:e.val()[t.state.gameID].letters},function(){if(t.state.gameStart&&t.state.time>-1){Date.now();var e=setInterval(function(){t.state.time<1?clearInterval(e):t.setState({time:t.state.time-=1})},1e3)}})},t.handleNewWords=function(e){t.setState({words:e.val()[t.state.gameID]});var a={};e.val()[t.state.gameID]&&Object.keys(e.val()[t.state.gameID]).forEach(function(n){var r=e.val()[t.state.gameID][n];a[r.playerName]?a[r.playerName]++:a[r.playerName]=1,a[r.playerName]>t.state.leader.score&&t.setState({scoreBoard:a,leader:{name:r.playerName,score:a[r.playerName]}})}),t.setState({scoreBoard:a})},t.handleChange=function(e){var a=e.target.value;t.setState({input:a})},t.handleSave=function(){!t.state.words&&t.checkEntry(t.state.input)?t.wordRef.push({wordContent:t.state.input,playerName:t.state.name,points:1}):t.wordRef.orderByChild("wordContent").equalTo(t.state.input).on("value",function(e){!e.val()&&t.checkEntry(t.state.input)&&t.wordRef.push({wordContent:t.state.input,playerName:t.state.name,points:1})}),t.setState({input:""})},t.startGame=function(){t.gameRef.update({gameStart:!0,letters:t.generateRandomLetter()})},t}return Object(h.a)(a,e),Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,a=this.gameRef.push();a.set({name:"test1",gameStart:!1,letters:["","","","","","","","",""]}).then(function(){e.setState({gameID:a.key})}),this.wordRef.on("value",this.handleNewWords),this.gameRef.on("value",this.handleGame),this.playerRef.on("value",this.handlePlayer)}},{key:"componentDidUpdate",value:function(e,a){!a.gameID&&this.state.gameID&&(this.wordRef=f.a.database().ref().child("words").child(this.state.gameID),this.gameRef=f.a.database().ref().child("games").child(this.state.gameID),this.playerRef.child(this.state.gameID).push().set({name:"player ".concat(this.state.players+=1)}))}},{key:"render",value:function(){var e=this.state,a=e.words,t=e.time,n=e.input,s=e.letters,l=e.scoreBoard,o=e.name,i=e.gameID,c=(e.startGame,e.leader);return r.a.createElement("div",{className:"App"},r.a.createElement(p,{words:a,time:t,input:n,letters:s,scoreBoard:l,name:o,handleChange:this.handleChange,handleSave:this.handleSave,gameID:i,startGame:this.startGame,admin:!0,leader:c}))}}]),a}(r.a.Component),y=t(20);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var w=t(85);t.n(w).a.initializeApp({apiKey:"AIzaSyAaz7pGlhd6hXvNg1s1ocWiHAe_vZcXzcg",authDomain:"word-game-17224.firebaseapp.com",databaseURL:"https://word-game-17224.firebaseio.com",projectId:"word-game-17224",storageBucket:"word-game-17224.appspot.com",messagingSenderId:"217843913120",appId:"1:217843913120:web:6651d79a97b217c6"}),l.a.render(r.a.createElement(o.a,null,r.a.createElement(function(){return r.a.createElement(y.c,null,r.a.createElement(y.a,{exact:!0,path:"/",component:g}),r.a.createElement(y.a,{path:"/game/:id",component:v}))},null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},47:function(e,a,t){},87:function(e,a,t){e.exports=t(181)},92:function(e,a,t){}},[[87,1,2]]]);
//# sourceMappingURL=main.6b593c14.chunk.js.map